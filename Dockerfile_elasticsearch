# https://github.com/elastic/elasticsearch-docker
FROM docker.elastic.co/elasticsearch/elasticsearch:5.4.1

RUN rm -f /usr/share/elasticsearch/config/elasticsearch.yml

COPY ./elasticsearch.yml /usr/share/elasticsearch/config/
USER root
RUN chown elasticsearch:elasticsearch config/elasticsearch.yml
RUN mkdir -p /usr/share/elasticsearch/data/nodes
RUN chown -R elasticsearch:elasticsearch /usr/share/elasticsearch/data/nodes

USER elasticsearch

# Add your elasticsearch plugins setup here
# Example: RUN elasticsearch-plugin install analysis-icu
